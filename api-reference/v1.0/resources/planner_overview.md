# <a name="use-the-planner-rest-api"></a><span data-ttu-id="a08e3-101">Usar la API de REST de Planner</span><span class="sxs-lookup"><span data-stu-id="a08e3-101">Use the Planner API</span></span>

<span data-ttu-id="a08e3-102">Puede usar la API de Planner en Microsoft Graph para crear tareas y asignarlas a los usuarios de un grupo de Office 365.</span><span class="sxs-lookup"><span data-stu-id="a08e3-102">You can use the Planner API in Microsoft Graph to create tasks and assign them to users in a group in Office 365.</span></span>

<span data-ttu-id="a08e3-103">Antes de empezar a utilizar la API de Planner, conviene que entienda cómo se relacionan los objetos principales entre sí y con los grupos de Office 365.</span><span class="sxs-lookup"><span data-stu-id="a08e3-103">Before you get started with trying out the Planner API, it is worth understanding how the main objects in Planner API relate to each other as well as Office 365 groups.</span></span>

## <a name="groups"></a><span data-ttu-id="a08e3-104">Grupos</span><span class="sxs-lookup"><span data-stu-id="a08e3-104">Groups</span></span>

<span data-ttu-id="a08e3-105">Los grupos de Office 365 son los propietarios de los planes de la API de Planner.</span><span class="sxs-lookup"><span data-stu-id="a08e3-105">Office 365 groups are the owners of the plans in the Planner API. To get the plans owned by a group, make the HTTP request below.</span></span>
<span data-ttu-id="a08e3-106">Para [obtener los planes propiedad de un grupo](../api/plannergroup_list_plans.md), realice la siguiente solicitud HTTP.</span><span class="sxs-lookup"><span data-stu-id="a08e3-106">To [get the plans owned by a group](../api/plannergroup_list_plans.md), make the following HTTP request.</span></span>

``` http
GET /groups/{id}/planner/plans
```

<span data-ttu-id="a08e3-107">Al [crear un nuevo plan](../api/planner_post_plans.md), haga que un grupo sea su propietario configurando la propiedad `owner` en un objeto de plan.</span><span class="sxs-lookup"><span data-stu-id="a08e3-107">When [creating a new plan](../api/planner_post_plans.md), make a group its owner by simply setting the `owner` property on a plan object. Plans must be owned by groups.</span></span> <span data-ttu-id="a08e3-108">Los planes deben pertenecer a grupos.</span><span class="sxs-lookup"><span data-stu-id="a08e3-108">Plans must be owned by groups.</span></span>

><span data-ttu-id="a08e3-109">**Nota:** El usuario que está creando el plan debe ser miembro del grupo que será el propietario del plan.</span><span class="sxs-lookup"><span data-stu-id="a08e3-109">**Note:** The user who is creating the plan must be a member of the group that will own the plan.</span></span> <span data-ttu-id="a08e3-110">Cuando crea un nuevo grupo mediante [Crear grupo](../api/group_post_groups.md), no se le agrega al grupo como miembro.</span><span class="sxs-lookup"><span data-stu-id="a08e3-110">When you create a new group by using [Create group](../api/group_post_groups.md), you are not added to the group as a member.</span></span> <span data-ttu-id="a08e3-111">Una vez creado el grupo, agréguese como miembro mediante [miembros de publicación del grupo](../api/group_post_members.md).</span><span class="sxs-lookup"><span data-stu-id="a08e3-111">After the group is created, add yourself as a member by using [group post members](../api/group_post_members.md).</span></span>

## <a name="plans"></a><span data-ttu-id="a08e3-112">Planes</span><span class="sxs-lookup"><span data-stu-id="a08e3-112">Plans</span></span>

<span data-ttu-id="a08e3-113">[Los Planes](plannerplan.md) son los contenedores de las [tareas](plannertask.md).</span><span class="sxs-lookup"><span data-stu-id="a08e3-113">[Plans](plannerplan.md) are the containers of [tasks](plannertask.md).</span></span> <span data-ttu-id="a08e3-114">Para [crear una tarea en un plan](../api/planner_post_tasks.md), establezca la propiedad `planId` en el objeto de tarea para el Id. del plan durante la creación de la tarea.</span><span class="sxs-lookup"><span data-stu-id="a08e3-114">Plans are the containers of tasks. To [create a task in a plan](../api/planner_post_tasks.md), set the `planId` property on the task object to the ID of the plan while creating the task. Tasks currently cannot be created without plans. To retrieve the tasks in a plan, make the HTTP request below.</span></span>
<span data-ttu-id="a08e3-115">Actualmente no se pueden crear tareas sin planes.</span><span class="sxs-lookup"><span data-stu-id="a08e3-115">Tasks currently cannot be created without plans.</span></span>
<span data-ttu-id="a08e3-116">Para [recuperar las tareas de un plan](../api/plannerplan_list_tasks.md), realice la siguiente solicitud HTTP.</span><span class="sxs-lookup"><span data-stu-id="a08e3-116">To [retrieve the tasks in a plan](../api/plannerplan_list_tasks.md), make the following HTTP request.</span></span>

``` http
GET /planner/plans/{id}/tasks
```

## <a name="tasks"></a><span data-ttu-id="a08e3-117">Tareas</span><span class="sxs-lookup"><span data-stu-id="a08e3-117">Tasks</span></span>

<span data-ttu-id="a08e3-p105">Cada tarea puede asignarse a un usuario mediante la adición de una [asignación](plannerassignment.md) en la propiedad [assignments](plannerassignments.md) del objeto de tarea. El identificador del usuario al que se va a asignar la tarea es el nombre de la propiedad abierta en `assignments`, y es necesario especificar la propiedad `orderHint` en la asignación.</span><span class="sxs-lookup"><span data-stu-id="a08e3-p105">Each task can be assigned to a user by adding an [assignment](plannerassignment.md) in the [assignments](plannerassignments.md) property on the task object. The ID of the user to assign the task is the name of the open property on `assignments`, and the `orderHint` property on the assignment must be specified.</span></span>

## <a name="task-and-plan-details"></a><span data-ttu-id="a08e3-120">Detalles de la tarea y del plan</span><span class="sxs-lookup"><span data-stu-id="a08e3-120">Task and plan details</span></span> 

<span data-ttu-id="a08e3-p106">Los recursos de Planner se organizan en objetos básicos y objetos de detalle. Los objetos básicos proporcionan acceso a propiedades comunes de los recursos, lo que es adecuado para vistas de lista, mientras que los objetos de detalle proporcionan acceso a propiedades grandes de los recursos, lo que es adecuado para vistas detalladas.</span><span class="sxs-lookup"><span data-stu-id="a08e3-p106">Planner resources are arranged into basic objects and detail objects. Basic objects provide access to common properties of the resources, suitable for list views, while the detail objects provide access to large properties of the resources suitable for drill down views.</span></span>

## <a name="visualization"></a><span data-ttu-id="a08e3-123">Visualización</span><span class="sxs-lookup"><span data-stu-id="a08e3-123">Visualization</span></span>

<span data-ttu-id="a08e3-p107">Además de datos de la tarea y del plan, la API de Planner también ofrece recursos para proporcionar la visualización común de datos de los clientes. Hay varios tipos de datos de visualización disponibles para las tareas:</span><span class="sxs-lookup"><span data-stu-id="a08e3-p107">Aside from task and plan data, the Planner API also provides resources to provide common visualization of data across clients. Several types of visualization data are available for tasks:</span></span>

| <span data-ttu-id="a08e3-126">Las tareas se muestran como</span><span class="sxs-lookup"><span data-stu-id="a08e3-126">Tasks are shown as</span></span>                                                                        | <span data-ttu-id="a08e3-127">Las tareas se ordenan con información de</span><span class="sxs-lookup"><span data-stu-id="a08e3-127">Tasks are ordered with information from</span></span>                                         |
| :---------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------ |
| <span data-ttu-id="a08e3-128">Lista plana (tareas de un plan)</span><span class="sxs-lookup"><span data-stu-id="a08e3-128">Flat list (tasks in a plan)</span></span>                                                               | <span data-ttu-id="a08e3-129">`orderHint` propiedad en tareas</span><span class="sxs-lookup"><span data-stu-id="a08e3-129">`orderHint` property on tasks</span></span>                                                   |
| <span data-ttu-id="a08e3-130">Lista plana (tareas asignadas a un usuario)</span><span class="sxs-lookup"><span data-stu-id="a08e3-130">Flat list (tasks assigned to a user)</span></span>                                                      | <span data-ttu-id="a08e3-131">`assigneePriority` propiedad en tareas</span><span class="sxs-lookup"><span data-stu-id="a08e3-131">`assigneePriority` property on tasks</span></span>                                            |
| <span data-ttu-id="a08e3-132">Vista de panel con columnas para los usuarios asignados (asignados a un panel de tareas)</span><span class="sxs-lookup"><span data-stu-id="a08e3-132">Board view with columns for assignees (assigned to task board)</span></span>                            | <span data-ttu-id="a08e3-133">Objeto [assignedToTaskBoardTaskFormat](plannerassignedToTaskBoardTaskFormat.md)</span><span class="sxs-lookup"><span data-stu-id="a08e3-133">[assignedToTaskBoardTaskFormat](plannerassignedToTaskBoardTaskFormat.md) object</span></span> |
| <span data-ttu-id="a08e3-134">Vista de panel con columnas con el progreso de la tarea hacia su finalización (panel de tareas en curso)</span><span class="sxs-lookup"><span data-stu-id="a08e3-134">Board view with columns for progress of the task towards completion (progress task board)</span></span> | <span data-ttu-id="a08e3-135">Objeto [progressTaskBoardTaskFormat](plannerprogressTaskBoardTaskFormat.md)</span><span class="sxs-lookup"><span data-stu-id="a08e3-135">[progressTaskBoardTaskFormat](plannerprogressTaskBoardTaskFormat.md) object</span></span>     |
| <span data-ttu-id="a08e3-136">Vista de panel con columnas personalizadas de tareas (panel de tareas de cubo):</span><span class="sxs-lookup"><span data-stu-id="a08e3-136">Board view with custom columns of tasks (bucket task board):</span></span>                              | <span data-ttu-id="a08e3-137">Objeto [bucketTaskBoardTaskFormat](plannerbucketTaskBoardTaskFormat.md)</span><span class="sxs-lookup"><span data-stu-id="a08e3-137">[bucketTaskBoardTaskFormat](plannerbucketTaskBoardTaskFormat.md) object</span></span>         |

<span data-ttu-id="a08e3-138">Las columnas personalizadas del panel de tareas de cubo se representan mediante objetos de[cubo](plannerbucket.md) y su orden mediante la propiedad `orderHint` en el objeto.</span><span class="sxs-lookup"><span data-stu-id="a08e3-138">The custom columns in the bucket task board are represented by [bucket](plannerbucket.md) objects, and their order by `orderHint` property on the object.</span></span>

<span data-ttu-id="a08e3-139">El orden se controla mediante los principios indicados en [Sugerencias sobre el orden de Planner](planner_order_hint_format.md).</span><span class="sxs-lookup"><span data-stu-id="a08e3-139">All the ordering is controlled by the principles identified in [Planner order hints](planner_order_hint_format.md).</span></span>

## <a name="planner-resource-versioning"></a><span data-ttu-id="a08e3-140">Control de versiones de los recursos de Planner</span><span class="sxs-lookup"><span data-stu-id="a08e3-140">Planner resource versioning</span></span>

<span data-ttu-id="a08e3-p108">Planner controla las versiones de todos los recursos mediante ETags. Estas ETags se devuelven con la propiedad `@odata.etag` de cada recurso, y las solicitudes `PATCH` y `DELETE` requieren que se especifique con el encabezado `If-Match` la última ETag conocida por el cliente. Planner permite realizar cambios en las versiones anteriores de los recursos, siempre y cuando el cambio deseado no entre en conflicto con los cambios más recientes aceptados por el servicio de Planner en el mismo recurso. Los clientes pueden identificar qué ETag del recurso es más reciente si calculan qué valor de ETag es mayor en una comparación de cadenas ordinal. Cada recurso tiene una ETag independiente. No se pueden comparar valores de ETag de recursos diferentes, incluidos los que tienen relaciones de contención. Se espera que las aplicaciones cliente controlen dos códigos de estado de error (409 y 412) relacionados con el control de versiones. Para ello, leen la versión más reciente del elemento y resuelven los cambios que entran en conflicto.</span><span class="sxs-lookup"><span data-stu-id="a08e3-p108">Planner versions all resources using etags. These etags are returned with `@odata.etag` property on each resource, and `PATCH` and `DELETE` requests require the last etag known by the client to be specified with `If-Match` header. Planner allows changes to older versions of resources, if the intended change does not conflict with newer changes accepted by the Planner service on the same resource. The clients can identify which etag for the same resource is newer by calculating which etag value is greater in ordinal string comparison. Each resource has a separate etag. Etag values for different resources, including those with containment relationships, cannot be compared. The client apps are expected to handle two versioning related error status codes 409 and 412 by reading the latest version of the item, and resolving the conflicting changes.</span></span>

## <a name="common-planner-error-conditions"></a><span data-ttu-id="a08e3-148">Condiciones de error comunes de Planner</span><span class="sxs-lookup"><span data-stu-id="a08e3-148">Common Planner error conditions</span></span>

<span data-ttu-id="a08e3-149">Además de los [errores generales](../../../concepts/errors.md) que se aplican a Microsoft Graph, hay algunas condiciones de error específicas de la API de Planner.</span><span class="sxs-lookup"><span data-stu-id="a08e3-149">In addition to [general errors](../../../concepts/errors.md) that apply to Microsoft Graph, some error conditions are specific to the Planner API.</span></span>

### <a name="400-bad-request"></a><span data-ttu-id="a08e3-150">400 Solicitud incorrecta</span><span class="sxs-lookup"><span data-stu-id="a08e3-150">400 Bad request</span></span>

<span data-ttu-id="a08e3-p109">Hay varios casos comunes en los que las solicitudes `POST` y `PATCH` pueden obtener un código de estado 400. Entre los problemas comunes se incluyen los siguientes:</span><span class="sxs-lookup"><span data-stu-id="a08e3-p109">There are several common cases where the `POST` and `PATCH` requests can get a 400 status code. Common problems include:</span></span>

* <span data-ttu-id="a08e3-p110">Las propiedades de tipo abierto no son del tipo correcto, o el tipo no se ha especificado, o no contienen ninguna propiedad. Por ejemplo, las propiedades [plannerAssignments](plannerAssignments.md) con valores complejos necesitan declarar la propiedad `@odata.type` con el valor `microsoft.graph.plannerAssignment`.</span><span class="sxs-lookup"><span data-stu-id="a08e3-p110">Open Type properties are not of correct types, or the type isn't specified, or they do not contain any properties. For example, [plannerAssignments](plannerAssignments.md) properties with complex values need to declare `@odata.type` property with value `microsoft.graph.plannerAssignment`.</span></span>
* <span data-ttu-id="a08e3-p111">Los valores de sugerencia de orden no tienen el [formato correcto](planner_order_hint_format.md). Por ejemplo, un valor de sugerencia de orden se ha establecido directamente en el valor devuelto al cliente.</span><span class="sxs-lookup"><span data-stu-id="a08e3-p111">Order hint values do not have the [correct format](planner_order_hint_format.md). For example, an order hint value is being set directly to the value returned to the client.</span></span>
* <span data-ttu-id="a08e3-p112">Los datos no tienen coherencia lógica. Por ejemplo, la fecha de inicio de la tarea es posterior a la fecha de vencimiento de la tarea.</span><span class="sxs-lookup"><span data-stu-id="a08e3-p112">The data is logically inconsistent. For example, start date of task is later than due date of the task.</span></span>

### <a name="403-forbidden"></a><span data-ttu-id="a08e3-159">403 Prohibido</span><span class="sxs-lookup"><span data-stu-id="a08e3-159">403 Forbidden</span></span>

<span data-ttu-id="a08e3-p113">Además de los errores generales, la API de Planner también devuelve este código de estado cuando se ha excedido un límite definido por el servicio. Si este es el caso, la propiedad `code` del tipo de recurso de error indicará el tipo del límite superado por la solicitud. Los valores posibles para los tipos de límite incluyen los siguientes:</span><span class="sxs-lookup"><span data-stu-id="a08e3-p113">In addition to the general errors, the Planner API also returns this status code when a service-defined limit has been exceeded. If this is the case, the `code` property on the error resource type will indicate the type of the limit exceeded by the request. The possible values for the limit types include:</span></span>

| <span data-ttu-id="a08e3-163">Valor</span><span class="sxs-lookup"><span data-stu-id="a08e3-163">Value</span></span>                         | <span data-ttu-id="a08e3-164">Descripción</span><span class="sxs-lookup"><span data-stu-id="a08e3-164">Description</span></span>                                                                                                                                                                                              |
| :---------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="a08e3-165">MaximumProjectsOwnedByUser</span><span class="sxs-lookup"><span data-stu-id="a08e3-165">MaximumProjectsOwnedByUser</span></span>    | <span data-ttu-id="a08e3-p114">Se ha superado el límite máximo de planes de un grupo. Este límite se basa en la propiedad `owner` del recurso [plannerPlan](plannerPlan.md).</span><span class="sxs-lookup"><span data-stu-id="a08e3-p114">The maximum number of Plans owned by a group limit has been exceeded. This limit is based on the `owner` property on the [plannerPlan](plannerPlan.md) resource.</span></span>                                         |
| <span data-ttu-id="a08e3-168">MaximumProjectsSharedWithUser</span><span class="sxs-lookup"><span data-stu-id="a08e3-168">MaximumProjectsSharedWithUser</span></span> | <span data-ttu-id="a08e3-p115">Se ha superado el límite máximo de planes compartidos con un usuario.  Este límite se basa en la propiedad `sharedWith` del recurso [plannerPlanDetails](plannerPlanDetails.md).</span><span class="sxs-lookup"><span data-stu-id="a08e3-p115">The maximum number of Plans shared with a user limit has been exceeded.  This limit is based on the `sharedWith` property on the [plannerPlanDetails](plannerPlanDetails.md) resource.</span></span>                   |
| <span data-ttu-id="a08e3-171">MaximumTasksCreatedByUser</span><span class="sxs-lookup"><span data-stu-id="a08e3-171">MaximumTasksCreatedByUser</span></span>     | <span data-ttu-id="a08e3-p116">Se ha superado el límite máximo de tareas creadas por un usuario. Este límite se basa en la propiedad `createdBy` del recurso [plannerTask](plannerTask.md).</span><span class="sxs-lookup"><span data-stu-id="a08e3-p116">The maximum number of Tasks created by a user limit has been exceeded. This limit is based on the `createdBy` property on the [plannerTask](plannerTask.md) resource.</span></span>                                    |
| <span data-ttu-id="a08e3-174">MaximumTasksAssignedToUser</span><span class="sxs-lookup"><span data-stu-id="a08e3-174">MaximumTasksAssignedToUser</span></span>    | <span data-ttu-id="a08e3-p117">Se ha superado el límite máximo de tareas asignadas a un usuario. Este límite se basa en la propiedad `assignments` del recurso [plannerTask](plannerTask.md).</span><span class="sxs-lookup"><span data-stu-id="a08e3-p117">The maximum number of Tasks assigned to a user limit has been exceeded. This limit is based on the `assignments` property on the [plannerTask](plannerTask.md) resource.</span></span>                                 |
| <span data-ttu-id="a08e3-177">MaximumTasksInProject</span><span class="sxs-lookup"><span data-stu-id="a08e3-177">MaximumTasksInProject</span></span>         | <span data-ttu-id="a08e3-p118">Se ha superado el límite máximo de tareas de un plan. Este límite se basa en la propiedad `planId` del recurso [plannerTask](plannerTask.md).</span><span class="sxs-lookup"><span data-stu-id="a08e3-p118">The maximum number of Tasks in a Plan limit has been exceeded. This limit is based on the `planId` property on the [plannerTask](plannerTask.md) resource.</span></span>                                               |
| <span data-ttu-id="a08e3-180">MaximumActiveTasksInProject</span><span class="sxs-lookup"><span data-stu-id="a08e3-180">MaximumActiveTasksInProject</span></span>   | <span data-ttu-id="a08e3-p119">Se ha superado el límite máximo de tareas no completadas en un plan. Este límite se basa en las propiedades `planId` y `percentComplete` del recurso [plannerTask](plannerTask.md).</span><span class="sxs-lookup"><span data-stu-id="a08e3-p119">The maximum number of Tasks that aren't completed in a Plan limit has been exceeded. This limit is based on the `planId` and `percentComplete` properties on the [plannerTask](plannerTask.md) resource.</span></span> |
| <span data-ttu-id="a08e3-183">MaximumBucketsInProject</span><span class="sxs-lookup"><span data-stu-id="a08e3-183">MaximumBucketsInProject</span></span>       | <span data-ttu-id="a08e3-p120">Se ha superado el límite máximo de cubos de un plan. Este límite se basa en la propiedad `planId` del recurso [plannerBucket](plannerBucket.md).</span><span class="sxs-lookup"><span data-stu-id="a08e3-p120">The maximum number of Buckets in a Plan limit has been exceeded. This limit is based on the `planId` property on the [plannerBucket](plannerBucket.md) resource.</span></span>                                         |
| <span data-ttu-id="a08e3-186">MaximumUsersSharedWithProject</span><span class="sxs-lookup"><span data-stu-id="a08e3-186">MaximumUsersSharedWithProject</span></span> | <span data-ttu-id="a08e3-187">La propiedad `sharedWith` del recurso [plannerPlanDetails](plannerPlanDetails.md) contiene demasiados valores.</span><span class="sxs-lookup"><span data-stu-id="a08e3-187">The `sharedWith` property on the [plannerPlanDetails](plannerPlanDetails.md) resource contains too many values.</span></span>                                                                                          |
| <span data-ttu-id="a08e3-188">MaximumReferencesOnTask</span><span class="sxs-lookup"><span data-stu-id="a08e3-188">MaximumReferencesOnTask</span></span>       | <span data-ttu-id="a08e3-189">La propiedad `references` del recurso [plannerTaskDetails](plannerTaskDetails.md) contiene demasiados valores.</span><span class="sxs-lookup"><span data-stu-id="a08e3-189">The `references` property on the [plannerTaskDetails](plannerTaskDetails.md) resource contains too many values.</span></span>                                                                                          |
| <span data-ttu-id="a08e3-190">MaximumChecklistItemsOnTask</span><span class="sxs-lookup"><span data-stu-id="a08e3-190">MaximumChecklistItemsOnTask</span></span>   | <span data-ttu-id="a08e3-191">La propiedad `checklist` del recurso [plannerTaskDetails](plannerTaskDetails.md) contiene demasiados valores.</span><span class="sxs-lookup"><span data-stu-id="a08e3-191">The `checklist` property on the [plannerTaskDetails](plannerTaskDetails.md) resource contains too many values.</span></span>                                                                                           |
| <span data-ttu-id="a08e3-192">MaximumAssigneesInTasks</span><span class="sxs-lookup"><span data-stu-id="a08e3-192">MaximumAssigneesInTasks</span></span>       | <span data-ttu-id="a08e3-193">La propiedad `assignments` del recurso [plannerTask](plannerTask.md) contiene demasiados valores.</span><span class="sxs-lookup"><span data-stu-id="a08e3-193">The `assignments` property on the [plannerTask](plannerTask.md) resource contains too many values.</span></span>                                                                                                       |

### <a name="412-precondition-failed"></a><span data-ttu-id="a08e3-194">412 Error de condición previa</span><span class="sxs-lookup"><span data-stu-id="a08e3-194">412 Precondition Failed</span></span> 

<span data-ttu-id="a08e3-p121">Todas las solicitudes `POST`, `PATCH` y `DELETE` de la API de Planner requieren que se especifique un encabezado `If-Match` con el último valor de ETag conocido del recurso que está sujeto a la solicitud. Además, se puede devolver el código de estado 412 si el valor de ETag especificado en la solicitud ya no coincide con una versión del recurso del servicio. En este caso, los clientes deben volver a leer el recurso y obtener una nueva ETag.</span><span class="sxs-lookup"><span data-stu-id="a08e3-p121">All `POST`, `PATCH` and `DELETE` requests in Planner API require `If-Match` header to be specified with the last etag value seen of the resource that is subject to the request. Additionally, 412 status code can be returned if the etag value specified in the request no longer matches a version of the resource in the service. In this case, the clients should read the resource again and obtain a new etag.</span></span>

