---
title: Usar la API de REST de fuente de actividades
description: 'Puede usar la actividad de fuente API en Microsoft Graph para reanudar actiity de un usuario en dispositivos y plataformas. Solicitudes de API de fuentes de actividades se realizan en nombre de un usuario a través de permisos delegados y el permiso de actividad de usuario, que se puede usar con cuentas personales o trabajos y escolar. '
ms.openlocfilehash: 25b7af22671256a6dd48536a7da232f16251184f
ms.sourcegitcommit: 334e84b4aed63162bcc31831cffd6d363dafee02
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/29/2018
ms.locfileid: "27029086"
---
# <a name="use-the-activity-feed-rest-api"></a><span data-ttu-id="2a42c-104">Usar la API de REST de fuente de actividades</span><span class="sxs-lookup"><span data-stu-id="2a42c-104">Use the activity feed REST API</span></span>

<span data-ttu-id="2a42c-105">Puede usar la actividad de fuente API en Microsoft Graph para reanudar actiity de un usuario en dispositivos y plataformas.</span><span class="sxs-lookup"><span data-stu-id="2a42c-105">You can use the activity feed API in Microsoft Graph to resume a user's actiity across devices and platforms.</span></span> <span data-ttu-id="2a42c-106">Solicitudes de API de fuentes de actividades se realizan en nombre de un usuario a través de [permisos delegados](/graph/permissions-reference#delegated-permissions-application-permissions-and-effective-permissions) y el [permiso de actividad de usuario](/graph/permissions-reference), que se puede usar con cuentas personales o trabajos y escolar.</span><span class="sxs-lookup"><span data-stu-id="2a42c-106">Activity feed API requests are performed on behalf of a user via [delegated permissions](/graph/permissions-reference#delegated-permissions-application-permissions-and-effective-permissions) and the [user activity permission](/graph/permissions-reference), which can be used with either personal or work and school accounts.</span></span> 

<span data-ttu-id="2a42c-107">Las actividades del usuario representadas por el recurso de [actividad](https://developer.microsoft.com/graph/docs/api-reference/v1.0/resources/projectrome_activity) y se organizan en una fuente basada en la hora representada por la colección me / actividades.</span><span class="sxs-lookup"><span data-stu-id="2a42c-107">User activities are represented by the [activity](https://developer.microsoft.com/graph/docs/api-reference/v1.0/resources/projectrome_activity) resource and are organized in a time-based feed represented by the collection me/activities.</span></span> 
<!-- Add missing content.
Each activity represents a unique... 
-->
## <a name="what-makes-a-great-user-activity"></a><span data-ttu-id="2a42c-108">¿Qué hace que sea una actividad de usuario excelente?</span><span class="sxs-lookup"><span data-stu-id="2a42c-108">What makes a great user activity?</span></span>

<span data-ttu-id="2a42c-109">Las actividades del usuario acaba no iniciar aplicaciones — son vínculos profundos en contenido específico dentro de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="2a42c-109">User activities don’t just launch apps — they are deep links into specific content within your app.</span></span> <span data-ttu-id="2a42c-110">Las actividades de usuario crear no sólo puede utilizarse en su propia aplicación, pero también aparecerán en Cortana y escala de tiempo de Windows: tiende a más reengagement de aplicación y hacer que sea más fácil para los usuarios a seguir utilizando la aplicación en varios dispositivos.</span><span class="sxs-lookup"><span data-stu-id="2a42c-110">The user activities you create can not only be used in your own app, but will also appear in Cortana and Windows Timeline — driving more app reengagement and making it easier for your users to continue using your app across multiple devices.</span></span>  

### <a name="what-should-become-an-activity"></a><span data-ttu-id="2a42c-111">¿Qué deben convertirse en una actividad?</span><span class="sxs-lookup"><span data-stu-id="2a42c-111">What should become an activity?</span></span> 

<span data-ttu-id="2a42c-112">Debido a que cada aplicación es diferente, es copia de seguridad a cada desarrollador de aplicaciones a comprender la mejor forma de asignar acciones dentro de la aplicación a las actividades del usuario.</span><span class="sxs-lookup"><span data-stu-id="2a42c-112">Because every app is different, it's up to each app developer to understand the best way to map actions within your application to user activities.</span></span> <span data-ttu-id="2a42c-113">Por ejemplo, juegos podrían crear una actividad para cada campaña, aplicaciones de creación de documento es posible que crear una actividad para cada documento único y aplicaciones de línea de negocio podrían crear una actividad para cada flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="2a42c-113">For example, games might create an activity for each campaign, document authoring apps might create an activity for each unique document, and line-of-business apps might create an activity for each workflow.</span></span> 

<span data-ttu-id="2a42c-114">Aplique las siguientes directrices como definir activitites en su aplicación:</span><span class="sxs-lookup"><span data-stu-id="2a42c-114">Apply the following guidlines as you define activitites in your app:</span></span>

<span data-ttu-id="2a42c-115">**Hacer:** Registre una sola actividad para un grupo de acciones de usuario relacionados.</span><span class="sxs-lookup"><span data-stu-id="2a42c-115">**DO:** Record a single activity for a group of related user actions.</span></span> <span data-ttu-id="2a42c-116">Si la aplicación se usa para una secuencia de contenido relacionado, probablemente tiene sentido para registrar una actividad único para la sesión de contratación todo.</span><span class="sxs-lookup"><span data-stu-id="2a42c-116">If your application is used for a sequence of related content, it probably makes sense to record a single activity for the entire engagement session.</span></span>  

<span data-ttu-id="2a42c-117">*Escenarios de lista de reproducción:* Esto es especialmente importante para las listas de reproducción de música o programas de TV: una actividad de usuario solo se puede actualizar para mostrar el progreso.</span><span class="sxs-lookup"><span data-stu-id="2a42c-117">*Playlist scenarios:* This is especially relevant for music playlists or TV shows — a single user activity can be updated to show your progress.</span></span> <span data-ttu-id="2a42c-118">En este caso, tendrá una actividad de usuario único con varios [elementos del historial](https://developer.microsoft.com/graph/docs/api-reference/v1.0/resources/projectrome_historyitem) que representa los períodos de compromiso a través de varios días o semanas.</span><span class="sxs-lookup"><span data-stu-id="2a42c-118">In this case, you will have a single user activity with multiple [history items](https://developer.microsoft.com/graph/docs/api-reference/v1.0/resources/projectrome_historyitem) representing periods of engagement across multiple days or weeks.</span></span>  

<span data-ttu-id="2a42c-119">**Hacer:** Almacenar datos de usuario a la nube.</span><span class="sxs-lookup"><span data-stu-id="2a42c-119">**DO:** Store user data to the cloud.</span></span> <span data-ttu-id="2a42c-120">Si desea admitir actividades entre el dispositivo, debe asegurarse de que se almacena el contenido necesario para esta actividad vuelva a atraer a una ubicación en la nube.</span><span class="sxs-lookup"><span data-stu-id="2a42c-120">If you want to support cross-device activities, you need to make sure the content required to reengage this activity is stored to a cloud location.</span></span> <span data-ttu-id="2a42c-121">Por ejemplo, si publica una actividad cada vez que un usuario edita un documento, el documento debe almacenarse en la nube en lugar de hacerlo localmente en el dispositivo del usuario con el fin de habilitar reengagement entre el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="2a42c-121">For example, if you publish an activity each time a user edits a document, the document should be stored in the cloud as opposed to locally on the user's device in order to enable cross-device reengagement.</span></span>  

<span data-ttu-id="2a42c-122">**No:** Crear una actividad de usuario para las acciones que los usuarios no necesitan para reanudar en el futuro.</span><span class="sxs-lookup"><span data-stu-id="2a42c-122">**DO NOT:** Create a user activity for actions that users do not need to resume in the future.</span></span> <span data-ttu-id="2a42c-123">Si la aplicación se usa para llevar a cabo operaciones simples únicas que no se mantienen estado para realizar un seguimiento en el futuro, probablemente no es necesario escribir una actividad de usuario.</span><span class="sxs-lookup"><span data-stu-id="2a42c-123">If your application is used to complete simple, one-time operations that do not persist status for you to track in the future, you probably do not need to write a user activity.</span></span> 

<span data-ttu-id="2a42c-124">Para ser más precisos, incluso si las actividades del usuario se muestran en la escala de tiempo de Windows, esto no está diseñado como una herramienta de control de versiones: selección de una actividad basados en documentos siempre debe mostrar la versión más reciente de ese documento (incluidos los cambios realizados por otro usuario).</span><span class="sxs-lookup"><span data-stu-id="2a42c-124">To be clear, even though user activities appear in Windows Timeline, this is not designed as a versioning tool — choosing a document-based activity should always show the latest version of that document (including changes that were made by another user.)</span></span>

<span data-ttu-id="2a42c-125">**No:** Crear una actividad de usuario para acciones completadas por *otros usuarios*.</span><span class="sxs-lookup"><span data-stu-id="2a42c-125">**DO NOT:** Create a user activity for actions completed by *other users*.</span></span> <span data-ttu-id="2a42c-126">Si alguien le envía al usuario un mensaje o @mentions el usuario dentro de la aplicación, no debe escribir una actividad nueva.</span><span class="sxs-lookup"><span data-stu-id="2a42c-126">If someone sends the user a message, or @mentions the user within your app, you should not write a new activity.</span></span> <span data-ttu-id="2a42c-127">Estas interacciones se satisfacen exponiendo las notificaciones.</span><span class="sxs-lookup"><span data-stu-id="2a42c-127">These interactions are better served by surfacing notifications.</span></span>  

<span data-ttu-id="2a42c-128">*Escenarios de colaboración:* Si varias personas trabajan en la misma actividad (por ejemplo, un documento de Word), habrá casos cuando otro usuario ha realizado cambios en el documento después de que se modificó por última vez.</span><span class="sxs-lookup"><span data-stu-id="2a42c-128">*Collaboration scenarios:* If multiple people are working on the same activity (such as a Word document), there will be cases when another user has made changes to the document after you last edited it.</span></span> <span data-ttu-id="2a42c-129">En este caso, los desarrolladores de aplicaciones es posible que desee actualizar los elementos visuales en la actividad para reflejar los cambios realizan en el documento.</span><span class="sxs-lookup"><span data-stu-id="2a42c-129">In this case, app developers might want to update the visual elements in the activity to reflect changes made to the document.</span></span> <span data-ttu-id="2a42c-130">Para ello, la aplicación podría actualizar la actividad existente sin crear un nuevo elemento de historial.</span><span class="sxs-lookup"><span data-stu-id="2a42c-130">To do this, the app might update the existing activity without creating a new history item.</span></span> 

><span data-ttu-id="2a42c-131">**Nota:** Si está publicando actividades para una aplicación web, es importante incluir ambos un `activationURL` y un `fallbackURL` para cada uno de sus actividades.</span><span class="sxs-lookup"><span data-stu-id="2a42c-131">**Note:** If you're publishing activities for a web application, it's important to include both an `activationURL` and a `fallbackURL` for each of your activities.</span></span> <span data-ttu-id="2a42c-132">Las actividades iniciará el usuario en la aplicación según lo esperado de experiencias de Microsoft al igual que la escala de tiempo de Windows.</span><span class="sxs-lookup"><span data-stu-id="2a42c-132">The activities will launch the user back into your app as expected from Microsoft experiences like Windows Timeline.</span></span> 

## <a name="app-interaction-patterns-and-user-activities"></a><span data-ttu-id="2a42c-133">Patrones de interacción de la aplicación y las actividades del usuario</span><span class="sxs-lookup"><span data-stu-id="2a42c-133">App interaction patterns and user activities</span></span> 
<span data-ttu-id="2a42c-134">Las actividades de usuario que cree variará en función de la trama de interacción de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="2a42c-134">The user activities that you create will vary based on the interaction pattern of your app.</span></span> <span data-ttu-id="2a42c-135">Aunque cada aplicación es diferente, la mayoría se inscriben en uno de los siguientes patrones de interacción:</span><span class="sxs-lookup"><span data-stu-id="2a42c-135">While every app is different, most will fall into one of the following interaction patterns:</span></span> 

* <span data-ttu-id="2a42c-136">**Aplicaciones basadas en el documento** : crear una actividad por cada documento con uno o más registros de historial que refleja períodos de uso.</span><span class="sxs-lookup"><span data-stu-id="2a42c-136">**Document-based apps** — Create one activity per document with one or more history records reflecting periods of use.</span></span> <span data-ttu-id="2a42c-137">Es importante que se debe actualizar su tarjeta de actividad, tal y como se realizan cambios en el documento.</span><span class="sxs-lookup"><span data-stu-id="2a42c-137">It is important to update your activity card as changes are made to the document.</span></span> 
* <span data-ttu-id="2a42c-138">**Aplicaciones de reproducción de medios** : crear una actividad por una agrupación lógica de contenido como una lista de reproducción, programa o independiente el contenido.</span><span class="sxs-lookup"><span data-stu-id="2a42c-138">**Media playback apps** — Create one activity per logical grouping of content such as a playlist, program, or standalone content.</span></span> 
* <span data-ttu-id="2a42c-139">**Juegos** : crear una actividad para cada uno de ellos guarda juego o mundiales.</span><span class="sxs-lookup"><span data-stu-id="2a42c-139">**Games** — Create one activity for each saved game or world.</span></span> <span data-ttu-id="2a42c-140">Si su juego es compatible con sólo una única secuencia de niveles, puede escribir la misma actividad a través del tiempo, aunque es posible que desee actualizar su tarjeta para mostrar su progreso o los logros más recientes.</span><span class="sxs-lookup"><span data-stu-id="2a42c-140">If your game supports only a single sequence of levels, you can write the same activity over time, although you might want to update your card to show your latest progress or achievements.</span></span> 
* <span data-ttu-id="2a42c-141">**Aplicaciones de utilidad** : si no hay nada dentro de la aplicación y que los usuarios desearán para reanudar, no debe publicar las actividades.</span><span class="sxs-lookup"><span data-stu-id="2a42c-141">**Utility apps** — If there is nothing within your app that users would want to resume, you should not publish activities.</span></span> <span data-ttu-id="2a42c-142">Un buen ejemplo es una aplicación simple de un único propósito como la calculadora.</span><span class="sxs-lookup"><span data-stu-id="2a42c-142">A good example is a simple single-purpose app like calculator.</span></span> 
* <span data-ttu-id="2a42c-143">**Aplicaciones de línea de negocio** , existen muchas aplicaciones para la administración de tareas sencillas o flujos de trabajo.</span><span class="sxs-lookup"><span data-stu-id="2a42c-143">**Line-of-business apps** — Many apps exist for managing simple tasks or workflows.</span></span> <span data-ttu-id="2a42c-144">Crear una actividad para cada flujo de trabajo independiente que tiene acceso a través de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="2a42c-144">Create one activity for each separate workflow accessed through your app.</span></span> <span data-ttu-id="2a42c-145">Por ejemplo, cada informe de gastos será una actividad independiente, porque es posible que desee haga clic en esa actividad para ver si se ha aprobado.</span><span class="sxs-lookup"><span data-stu-id="2a42c-145">For example, each expense report would be a separate activity, because you might want to click that activity to see if it was approved.</span></span>

<span data-ttu-id="2a42c-146">*Algunas aplicaciones complejas incluyen varios patrones de interacción. Es posible que desee que se deben seguir los patrones de creación de actividad de usuario diferentes para distintos escenarios controlados por la aplicación.*</span><span class="sxs-lookup"><span data-stu-id="2a42c-146">*Some complex apps include multiple interaction patterns. You might want to follow different user activity creation patterns for different scenarios handled by your app.*</span></span>

<!-- Add content or remove H2.
## Common use cases 
-->

## <a name="next-steps"></a><span data-ttu-id="2a42c-147">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="2a42c-147">Next steps</span></span>

- <span data-ttu-id="2a42c-148">Consulte el [recurso de la actividad](https://developer.microsoft.com/graph/docs/api-reference/v1.0/resources/projectrome_activity) y definir las actividades de su aplicación para ayudar a los usuarios reanudar tareas importantes.</span><span class="sxs-lookup"><span data-stu-id="2a42c-148">See the [activity resource](https://developer.microsoft.com/graph/docs/api-reference/v1.0/resources/projectrome_activity) and define your app's activities to help users resume important tasks.</span></span>
- <span data-ttu-id="2a42c-149">Explore los ejemplos de [ejemplos de tarjeta adaptable](https://adaptivecards.io/samples/) para ideas realizar sus actividades de **pop**.</span><span class="sxs-lookup"><span data-stu-id="2a42c-149">Explore the [adaptive card samples](https://adaptivecards.io/samples/) samples for ideas to make your activities **pop**.</span></span>  
- <span data-ttu-id="2a42c-150">Pruebe la API en el [Probador de Graph](https://developer.microsoft.com/graph/graph-explorer).</span><span class="sxs-lookup"><span data-stu-id="2a42c-150">Try the API in the [Graph Explorer](https://developer.microsoft.com/graph/graph-explorer).</span></span>

<span data-ttu-id="2a42c-151">**¿Necesita más ideas?**</span><span class="sxs-lookup"><span data-stu-id="2a42c-151">**Looking for more ideas?**</span></span> 

- <span data-ttu-id="2a42c-152">Vea [cómo experiencias de Microsoft están usando las actividades](https://channel9.msdn.com/events/Build/2017/B8108).</span><span class="sxs-lookup"><span data-stu-id="2a42c-152">See [how Microsoft experiences are using activities](https://channel9.msdn.com/events/Build/2017/B8108).</span></span>
- <span data-ttu-id="2a42c-153">Obtenga información sobre [la actividad de API de fuente y seleccionar donde quedó](https://channel9.msdn.com/Events/Windows/Windows-Developer-Day-Fall-Creators-Update/WinDev011).</span><span class="sxs-lookup"><span data-stu-id="2a42c-153">Learn about [the activity feed API and pick up where I left off](https://channel9.msdn.com/Events/Windows/Windows-Developer-Day-Fall-Creators-Update/WinDev011).</span></span>
