# <a name="microsoft-graph-security-data-flow"></a><span data-ttu-id="d856e-101">Flujo de datos de seguridad de Microsoft Graph</span><span class="sxs-lookup"><span data-stu-id="d856e-101">Microsoft Graph Security data flow</span></span>

<span data-ttu-id="d856e-102">La API de seguridad de Microsoft Graph permite la federación de solicitudes a todos los proveedores en el entorno de seguridad de Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="d856e-102">The Microsoft Graph Security API federates requests to all providers in the Microsoft Graph Security ecosystem.</span></span> <span data-ttu-id="d856e-103">Esto se basa en el consentimiento de proveedor de seguridad proporcionado por la aplicación, tal como se muestra en el siguiente diagrama.</span><span class="sxs-lookup"><span data-stu-id="d856e-103">This is based on the security provider consent provided by the application, as shown in the following diagram.</span></span> <span data-ttu-id="d856e-104">El flujo de trabajo de consentimiento solamente se aplica a los proveedores que no son de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="d856e-104">The consent workflow only applies to non-Microsoft providers.</span></span>

![security_dataflow_1.png](./images/security_dataflow_1.png)

<span data-ttu-id="d856e-106">Esta es una descripción del flujo:</span><span class="sxs-lookup"><span data-stu-id="d856e-106">The following is a description of the flow:</span></span>

1. <span data-ttu-id="d856e-107">El usuario de la aplicación inicia sesión en la aplicación del proveedor para ver el formulario de consentimiento del proveedor.</span><span class="sxs-lookup"><span data-stu-id="d856e-107">The application user signs in to the provider application to view the consent form from the provider.</span></span> <span data-ttu-id="d856e-108">Esta interfaz de usuario o experiencia de formulario de consentimiento es propiedad del proveedor y se aplica a los proveedores que no son de Microsoft solo para obtener consentimiento explícito de sus clientes para enviar solicitudes a la API de seguridad de Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="d856e-108">This consent form experience or UI is owned by the provider and applies to non-Microsoft providers only to get explicit consent from their customers to send requests to Microsoft Graph Security API.</span></span>
2. <span data-ttu-id="d856e-109">El consentimiento del cliente se almacena en el lado del proveedor.</span><span class="sxs-lookup"><span data-stu-id="d856e-109">The client consent is stored on the provider side.</span></span>
3. <span data-ttu-id="d856e-110">El servicio de consentimiento de proveedor llama a la API de seguridad de Microsoft Graph para informar de la aprobación de consentimiento del cliente correspondiente.</span><span class="sxs-lookup"><span data-stu-id="d856e-110">The provider consent service calls the Microsoft Graph security API to inform consent approval for the respective customer.</span></span>
4. <span data-ttu-id="d856e-111">La aplicación envía una solicitud a la API de seguridad de Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="d856e-111">The application sends a request to the Microsoft Graph security API.</span></span>
5. <span data-ttu-id="d856e-112">La API de seguridad de Microsoft Graph comprueba la información de consentimiento de este cliente asignada para distintos proveedores.</span><span class="sxs-lookup"><span data-stu-id="d856e-112">The Microsoft Graph Security API checks for the consent information for this customer mapped to various providers.</span></span>
6. <span data-ttu-id="d856e-113">La API de seguridad de Microsoft Graph llama a todos aquellos proveedores a los que el cliente ha dado consentimiento explícito mediante la experiencia de consentimiento de proveedor.</span><span class="sxs-lookup"><span data-stu-id="d856e-113">The Microsoft Graph Security API calls all those providers the customer has given explicit consent to via the provider consent experience.</span></span>
7. <span data-ttu-id="d856e-114">Se devuelve la respuesta de todos los proveedores a los que ese cliente ha dado consentimiento.</span><span class="sxs-lookup"><span data-stu-id="d856e-114">The response is returned from all the consented providers for that client.</span></span>
8. <span data-ttu-id="d856e-115">La respuesta del conjunto de resultados se devuelve a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="d856e-115">The result set response is returned to the application.</span></span>
9. <span data-ttu-id="d856e-116">Si el cliente no ha dado consentimiento a algún proveedor, no se incluirán resultados de ese proveedor en la respuesta.</span><span class="sxs-lookup"><span data-stu-id="d856e-116">If the customer has not consented to any provider, no results from those providers are included in the response.</span></span>
