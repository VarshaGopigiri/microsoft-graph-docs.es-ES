# <a name="organize-outlook-messages"></a><span data-ttu-id="eb8ed-101">Organizar mensajes de Outlook</span><span class="sxs-lookup"><span data-stu-id="eb8ed-101">Organize Outlook messages</span></span>

<span data-ttu-id="eb8ed-102">Outlook permite a los clientes organizar sus mensajes como prefieran, tanto si quieren dejar todos sus mensajes en la carpeta Bandeja de entrada, como si prefieren organizar sus mensajes en una estructura de carpetas tipo árbol dentro de la Bandeja de entrada para adaptarse a sus necesidades específicas.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-102">Outlook lets customers organize their messages the way they like it, be it leaving all messages in the same Inbox folder, or organizing messsages in a tree-like folder structure under the Inbox to fit their specific needs.</span></span> <span data-ttu-id="eb8ed-103">Puede [filtrar, buscar u ordenar](query_parameters.md) fácilmente los mensajes de todo el buzón del usuario o de carpetas específicas.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-103">You can conveniently [filter, search, or sort](query_parameters.md) messages in the user's entire mailbox or in specific folders.</span></span>

## <a name="accessing-mail-folders"></a><span data-ttu-id="eb8ed-104">Obtener acceso a carpetas de correo</span><span class="sxs-lookup"><span data-stu-id="eb8ed-104">Accessing mail folders</span></span>

<span data-ttu-id="eb8ed-105">Con programación, las carpetas de mensajes se representan con el recurso [mailFolder](../api-reference/v1.0/resources/mailfolder.md), y la bandeja de entrada es una de las carpetas en el directorio raíz de la estructura de carpetas.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-105">Programmatically, message folders are represented by the [mailFolder](../api-reference/v1.0/resources/mailfolder.md) resource, and the Inbox is one of the folders at the root of the folder structure.</span></span> <span data-ttu-id="eb8ed-106">El acceso directo `/users/{id}/mailfolders` representa el directorio raíz.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-106">The `/users/{id}/mailfolders` shortcut represents the root.</span></span> 

<span data-ttu-id="eb8ed-107">Cada **mailFolder** se identifica por su id. de carpeta y tiene una propiedad que permite la escritura **displayName**.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-107">Each **mailFolder** is identified by its folder ID, and has a writable **displayName** property.</span></span> <span data-ttu-id="eb8ed-108">Outlook crea otras carpetas para los clientes de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-108">Outlook creates a few other folders for customers by default.</span></span> <span data-ttu-id="eb8ed-109">Puede hacer referencia a estas carpetas predeterminadas por los id. de carpeta, o bien por los nombres conocidos: `ArchiveRoot`, `ConversationHistory`, `DeletedItems`, `Drafts`, `Inbox`, `JunkEmail`, `Outbox` y `SentItems`.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-109">You can reference these default folders by their folder IDs, or by their well-known names: `ArchiveRoot`, `ConversationHistory`, `DeletedItems`, `Drafts`, `Inbox`, `JunkEmail`, `Outbox`, and `SentItems`.</span></span> 

<span data-ttu-id="eb8ed-110">Para una carpeta personalizada que no sea predeterminada, si conoce la ruta de la carpeta, puede obtener acceso a la carpeta si primero usa el acceso directo `/users/{id}/mailfolders` para obtener acceso al nivel raíz y obtener todas las carpetas de nivel superior:</span><span class="sxs-lookup"><span data-stu-id="eb8ed-110">For a custom, non-default folder, if you know its folder path, you can access the folder by first using the `/users/{id}/mailfolders` shortcut to get to the root level and get all the top level folders:</span></span>

```http
GET https://graph.microsoft.com/v1.0/users/{id}/mailFolders
```
<span data-ttu-id="eb8ed-111">Después, especifique el id. de carpeta (`{folder_id}`) al navegar a cada nivel del árbol de carpetas:</span><span class="sxs-lookup"><span data-stu-id="eb8ed-111">Then, specify the appropriate folder ID (`{folder_id}`) as you navigate each level of the folder tree:</span></span>

```
GET https://graph.microsoft.com/v1.0/users/{id}/mailFolders/{folder_id}/childfolders
```
<span data-ttu-id="eb8ed-112">Repita este procedimiento hasta que llegue a la carpeta personalizada en el árbol.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-112">Repeat until you finally get to the custom folder in the tree.</span></span>

## <a name="creating-and-organizing-the-folder-tree"></a><span data-ttu-id="eb8ed-113">Crear y organizar el árbol de carpetas</span><span class="sxs-lookup"><span data-stu-id="eb8ed-113">Creating and organizing the folder tree</span></span>

<span data-ttu-id="eb8ed-114">Puede [crear carpetas de correo dentro de la bandeja de entrada](../api-reference/v1.0/api/user_post_mailfolders.md), o bien como [carpetas secundarias dentro de otras carpetas](../api-reference/v1.0/api/mailfolder_post_childfolders.md).</span><span class="sxs-lookup"><span data-stu-id="eb8ed-114">You can [create mail folders under the Inbox](../api-reference/v1.0/api/user_post_mailfolders.md), or as [child folders of other folders](../api-reference/v1.0/api/mailfolder_post_childfolders.md).</span></span> <span data-ttu-id="eb8ed-115">Al crear, [copiar](../api-reference/v1.0/api/mailfolder_copy.md) o [mover](../api-reference/v1.0/api/mailfolder_move.md) una carpeta y su contenido, Outlook actualiza las propiedades **parentFolderId** y **childFolderCount** de solo lectura de las carpetas correspondientes.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-115">When you create, [copy](../api-reference/v1.0/api/mailfolder_copy.md), or [move](../api-reference/v1.0/api/mailfolder_move.md) a folder and its contents, Outlook updates the read-only **parentFolderId** and **childFolderCount** properties of the involved folders.</span></span> <span data-ttu-id="eb8ed-116">Cuando se copia o mueve el contenido de una carpeta a otra carpeta, de forma predeterminada, los id. de entrada individuales de los contenidos también cambiarán.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-116">When the contents of a folder are copied or moved to another folder, by default, the individual entry IDs of the contents also change.</span></span>

<span data-ttu-id="eb8ed-117">En el nivel de los contenidos, **totalItemCount** y **unreadItemCount** indican respectivamente el número de elementos y el número de elementos no leídos de una carpeta de correo.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-117">At the contents level, **totalItemCount** and **unreadItemCount** respectively tell you the number of items and number of unread items in a mail folder.</span></span>
<span data-ttu-id="eb8ed-118">En el nivel de las carpetas secundarias, puede [mostrar una lista de las carpetas secundarias](../api-reference/v1.0/api/user_list_mailfolders.md) dentro de la bandeja de entrada o de cualquier otra carpeta.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-118">At the child folders level, you can [list the child folders](../api-reference/v1.0/api/user_list_mailfolders.md) under the Inbox or any other folder.</span></span> <span data-ttu-id="eb8ed-119">La propiedad **childFolderCount** representa el número de carpetas secundarias inmediatas.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-119">The **childFolderCount** property represents the number of immediate child folders.</span></span>

<span data-ttu-id="eb8ed-120">Tenga en cuenta que las carpetas de correo de Outlook pueden contener mensajes y elementos que no sean mensajes, como eventos y contactos.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-120">Be aware that Outlook mail folders can contain messages and non-message items such as events and contacts.</span></span> <span data-ttu-id="eb8ed-121">En general, las carpetas de Outlook pueden contener elementos heterogéneos.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-121">In general, Outlook folders can contain heterogeneous items.</span></span>

## <a name="using-rules-to-automate-copying-or-moving-messages"></a><span data-ttu-id="eb8ed-122">Usar reglas para automatizar la copia o movimiento de mensajes</span><span class="sxs-lookup"><span data-stu-id="eb8ed-122">Using rules to automate copying or moving messages</span></span>

<!-- Change links for rules API to v1 once it GAs in Feb. -->

<span data-ttu-id="eb8ed-123">Outlook permite a los clientes configurar reglas para automatizar acciones específicas en mensajes entrantes cuando se cumplan condiciones predeterminadas.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-123">Outlook lets customers set up rules to automate specific actions on incoming messages when some pre-determined conditions are met.</span></span> <span data-ttu-id="eb8ed-124">Puede [crear una regla](../api-reference/beta/api/mailfolder_post_messagerules.md) para la bandeja de entrada, como [messageRule](../api-reference/beta/resources/messagerule.md) para copiar o mover un mensaje en una carpeta específica cuando se cumplan condiciones específicas.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-124">You can [create a rule](../api-reference/beta/api/mailfolder_post_messagerules.md) for the Inbox as a [messageRule](../api-reference/beta/resources/messagerule.md) to copy or move a message to a specific folder upon certain conditions.</span></span> <span data-ttu-id="eb8ed-125">Las condiciones son [messageRulePredicates](../api-reference/beta/resources/messagerulepredicates.md).</span><span class="sxs-lookup"><span data-stu-id="eb8ed-125">Conditions are [messageRulePredicates](../api-reference/beta/resources/messagerulepredicates.md).</span></span> <span data-ttu-id="eb8ed-126">Algunos ejemplos pueden ser texto que aparezca en el cuerpo o el asunto del mensaje, que el mensaje se envíe desde direcciones de correo electrónico específicas, que el mensaje esté marcado como importante, etc.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-126">They can include the message subject or body containing certain text,the message sent from certain email addresses, or the message marked important, and so on.</span></span> 

## <a name="directing-only-the-messages-you-care-for-to-the-focused-inbox"></a><span data-ttu-id="eb8ed-127">Dirigir solo los mensajes importantes a la Bandeja de entrada Prioritarios</span><span class="sxs-lookup"><span data-stu-id="eb8ed-127">Directing only the messages you care for to the Focused Inbox</span></span> 

<span data-ttu-id="eb8ed-128">La Bandeja de entrada Prioritarios permite a los clientes entrenar Outlook para mostrar solo los mensajes entrantes de remitentes que consideren importantes en la pestaña **Prioritarios**, y el resto de los mensajes en la pestaña **Otros correos**. Inicialmente, el sistema de clasificación de Outlook organiza los mensajes de la bandeja de entrada de una forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-128">Focused Inbox lets customers train Outlook to show only the incoming messages from senders you care for in the **Focused** tab, and the rest in the **Other** tab. Initially, Outlook's classification system organizes Inbox messages in a default way.</span></span> <span data-ttu-id="eb8ed-129">Puede corregir y entrenar el sistema con el tiempo a través de la interfaz de usuario o con programación.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-129">Over time, you can correct and train the system through the user interface or programmatically.</span></span> <span data-ttu-id="eb8ed-130">Cuanto más use la Bandeja de entrada Prioritarios, mejor podrá el sistema de clasificación deducir qué mensajes entrantes quiere ver en la pestaña **Prioritarios**.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-130">The more you use the Focused Inbox, the better the classification system can infer which incoming message you want to see in the **Focused** tab.</span></span>

<span data-ttu-id="eb8ed-131">Con programación, puede actualizar la propiedad **inferenceClassification** de un [mensaje](../api-reference/v1.0/resources/message.md) para indicar si quiere ver el mensaje en la pestaña **Prioritarios** o en la pestaña **Otros correos**. Esta es una designación de un solo uso para un mensaje específico.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-131">Programmatically, you can update the **inferenceClassification** property of a [message](../api-reference/v1.0/resources/message.md) to indicate whether you want to see the message in the **Focused** or **Other** tab. This is a one-off designation for a specific message.</span></span> <span data-ttu-id="eb8ed-132">Si, por otra parte, quiere ver mensajes de un remitente específico siempre en la pestaña **Prioritarios** o en la pestaña **Otros correos**, puede [configurar una instrucción](../api-reference/v1.0/api/inferenceclassification_post_overrides.md) para Outlook.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-132">If, on the other hand, you want to see messages from a specific sender always in the **Focused** tab or **Other** tab, you can [set an instruction](../api-reference/v1.0/api/inferenceclassification_post_overrides.md) for Outlook.</span></span> <span data-ttu-id="eb8ed-133">Cada instrucción es una instancia de [inferenceClassificationOverride](../api-reference/v1.0/resources/inferenceclassificationoverride.md) donde se especifica que el nombre del remitente y la designación de mensajes de ese remitente siempre sea `focused` o `other`.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-133">Each instruction is an [inferenceClassificationOverride](../api-reference/v1.0/resources/inferenceclassificationoverride.md) instance specifying the sender's name and your designation for messages from that sender to be always `focused` or `other`.</span></span> <span data-ttu-id="eb8ed-134">Las instrucciones de cada usuario para la Bandeja de entrada Prioritarios del usuario se almacenan como una colección de instancias de [inferenceClassificationOverride](../api-reference/v1.0/resources/inferenceclassificationoverride.md) en el objeto [user](../api-reference/v1.0/resources/user.md).</span><span class="sxs-lookup"><span data-stu-id="eb8ed-134">Each user's instructions for the user's Focused Inbox are stored as a collection of [inferenceClassificationOverride](../api-reference/v1.0/resources/inferenceclassificationoverride.md) instances on the [user](../api-reference/v1.0/resources/user.md) object.</span></span>

## <a name="keeping-messages-and-mail-folders-up-to-date-in-apps"></a><span data-ttu-id="eb8ed-135">Mantener actualizados los mensajes y las carpetas de correo en las aplicaciones</span><span class="sxs-lookup"><span data-stu-id="eb8ed-135">Keeping messages and mail folders up to date in apps</span></span>

<span data-ttu-id="eb8ed-136">Con frecuencia, las aplicaciones tienen que sincronizarse y mantener actualizados los datos de correo de un usuario en el almacén local de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-136">Apps often have to synchronize and keep a user's mail data up-to-date in the app local store.</span></span> <span data-ttu-id="eb8ed-137">Microsoft Graph le permite suscribirse a notificaciones de cambios para recibir notificaciones cuando se produzcan cambios en los datos, y consultar los cambios actuales en cuanto se produzcan.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-137">Microsoft Graph lets you subscribe to change notifications to get notified when data changes, and query for actual changes as soon as they happen.</span></span>

<span data-ttu-id="eb8ed-138">Las notificaciones se entregan con [webhooks](../api-reference/v1.0/resources/webhooks.md) de forma asincrónica cuando se producen los cambios, lo que evita que las aplicaciones se sobrecarguen al tener que sondear frecuentemente.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-138">Notifications are delivered via [webhooks](../api-reference/v1.0/resources/webhooks.md) asynchronously when the changes happen, saving apps the overhead to poll frequently.</span></span> <span data-ttu-id="eb8ed-139">Puede [suscribirse a notificaciones de cambios](../api-reference/v1.0/api/subscription_post_subscriptions.md) de adiciones, actualizaciones o eliminaciones en los datos de correo de un usuario.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-139">You can [subscribe to change notifications](../api-reference/v1.0/api/subscription_post_subscriptions.md) about additions, updates, or deletions to a user's mail data.</span></span> <span data-ttu-id="eb8ed-140">Por ejemplo, puede crear una suscripción a mensajes en una carpeta específica (por ejemplo, `/me/mailFolders('{folderId'}')`) o en el nivel raíz (por ejemplo, `/me/messages`).</span><span class="sxs-lookup"><span data-stu-id="eb8ed-140">For example, you can create a subscription to messages in a specific folder (i.e., `/me/mailFolders('{folderId'}')`), or at the root level (i.e., `/me/messages`).</span></span> <span data-ttu-id="eb8ed-141">La suscripción especifica un elemento **notificationUrl**, donde Microsoft Graph notificará a la aplicación cuando se produzcan los tipos de cambios solicitados.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-141">The subscription specifies a **notificationUrl** where Microsoft Graph notifies the app when the requested types of changes happen.</span></span>

<span data-ttu-id="eb8ed-142">Para sincronizar inicialmente un buzón de usuario, primero [realice una consulta delta en las carpetas de correo, empezando en el nivel raíz](../api-reference/v1.0/api/mailfolder_delta.md), para sincronizar todas las carpetas de correo, seguido de una [consulta delta de los mensajes en cada carpeta](../api-reference/v1.0/api/message_delta.md) para sincronizar los mensajes individuales.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-142">To initially synchronize a user's mailbox, first do [delta query for mail folders starting at the root level](../api-reference/v1.0/api/mailfolder_delta.md) to synchronize all mail folders, followed by [delta query for messages in each folder](../api-reference/v1.0/api/message_delta.md) to synchronize individual messages.</span></span>

<span data-ttu-id="eb8ed-143">Para encontrar las entidades exactas que se cambiaron sin tener que leer todo el recurso con cada notificación, puede usar una [consulta delta](delta_query_overview.md) para realizar un seguimiento de los cambios que más le interesen y sincronizar el almacén local con esos cambios.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-143">To find the exact entities that have been changed without reading the entire resource with every notification, you can use [delta query](delta_query_overview.md) to track those changes that matter to you, and synchronize your local store with those changes.</span></span> <span data-ttu-id="eb8ed-144">Puede [realizar un seguimiento de los cambios en los mensajes de una carpeta específica](delta_query_messages.md).</span><span class="sxs-lookup"><span data-stu-id="eb8ed-144">You can [track changes to messages in a specific folder](delta_query_messages.md).</span></span> <span data-ttu-id="eb8ed-145">También puede realizar un seguimiento de los cambios en las carpetas de correo en el nivel raíz (por ejemplo, `/me/mailfolders`).</span><span class="sxs-lookup"><span data-stu-id="eb8ed-145">You can also track changes to mail folders at the root level (i.e., `/me/mailfolders`).</span></span> 


## <a name="next-steps"></a><span data-ttu-id="eb8ed-146">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="eb8ed-146">Next steps</span></span>

<span data-ttu-id="eb8ed-147">Obtenga más información sobre:</span><span class="sxs-lookup"><span data-stu-id="eb8ed-147">Find out more about:</span></span>

- [<span data-ttu-id="eb8ed-148">¿Por qué integrar con el correo de Outlook?</span><span class="sxs-lookup"><span data-stu-id="eb8ed-148">Why integrate with Outlook mail</span></span>](outlook-mail-concept-overview.md)
- <span data-ttu-id="eb8ed-149">[Usar la API de correo](../api-reference/v1.0/resources/mail_api_overview.md) y sus [casos de uso](../api-reference/v1.0/resources/mail_api_overview.md#common-use-cases) en Microsoft Graph v1.0.</span><span class="sxs-lookup"><span data-stu-id="eb8ed-149">[Using the mail API](../api-reference/v1.0/resources/mail_api_overview.md) and its [use cases](../api-reference/v1.0/resources/mail_api_overview.md#common-use-cases) in Microsoft Graph v1.0.</span></span>
